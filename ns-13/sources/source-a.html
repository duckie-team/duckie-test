


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > TextfieldKt</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">team.duckie.quackquack.ui.component</a>
</div>

<h1>Coverage Summary for Class: TextfieldKt (team.duckie.quackquack.ui.component)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">TextfieldKt</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/62)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/79)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/633)
  </span>
</td>
</tr>
  <tr>
    <td class="name">TextfieldKt$QuackBasicTextField$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">TextfieldKt$QuackBasicTextField$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">TextfieldKt$QuackBasicTextField$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/50)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">TextfieldKt$QuackTextFieldDecorationBox$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/28)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/40)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/242)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">TextfieldKt$QuackTextFieldDecorationBox$3$measure$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/91)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">TextfieldKt$QuackTextFieldDecorationBox$5</td>
    <td class="coverageStat"/>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/104)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/144)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1035)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Designed and developed by 2022 SungbinLand, Team Duckie
&nbsp; *
&nbsp; * [textfield.kt] created by EvergreenTree97 on 22. 8. 21. 오후 3:26
&nbsp; *
&nbsp; * Licensed under the MIT.
&nbsp; * Please see full license: https://github.com/sungbinland/quack-quack/blob/main/LICENSE
&nbsp; */
&nbsp;
&nbsp;package team.duckie.quackquack.ui.component
&nbsp;
&nbsp;import androidx.compose.foundation.layout.Box
&nbsp;import androidx.compose.foundation.layout.fillMaxHeight
&nbsp;import androidx.compose.foundation.layout.size
&nbsp;import androidx.compose.foundation.layout.wrapContentWidth
&nbsp;import androidx.compose.foundation.text.BasicTextField
&nbsp;import androidx.compose.foundation.text.KeyboardActions
&nbsp;import androidx.compose.foundation.text.KeyboardOptions
&nbsp;import androidx.compose.runtime.Composable
&nbsp;import androidx.compose.runtime.NonRestartableComposable
&nbsp;import androidx.compose.runtime.getValue
&nbsp;import androidx.compose.runtime.mutableStateOf
&nbsp;import androidx.compose.runtime.remember
&nbsp;import androidx.compose.runtime.setValue
&nbsp;import androidx.compose.ui.Alignment
&nbsp;import androidx.compose.ui.Modifier
&nbsp;import androidx.compose.ui.layout.Layout
&nbsp;import androidx.compose.ui.layout.Placeable
&nbsp;import androidx.compose.ui.layout.layoutId
&nbsp;import androidx.compose.ui.layout.onPlaced
&nbsp;import androidx.compose.ui.platform.LocalDensity
&nbsp;import androidx.compose.ui.text.input.ImeAction
&nbsp;import androidx.compose.ui.unit.Constraints
&nbsp;import androidx.compose.ui.unit.IntSize
&nbsp;import androidx.compose.ui.unit.dp
&nbsp;import team.duckie.quackquack.common.npe
&nbsp;import team.duckie.quackquack.ui.constant.QuackHeight
&nbsp;import team.duckie.quackquack.ui.constant.QuackWidth
&nbsp;import team.duckie.quackquack.ui.modifier.applyQuackSize
&nbsp;import team.duckie.quackquack.ui.textstyle.QuackTextStyle
&nbsp;
&nbsp;// /**
&nbsp;//  * QuackTextField 에서 표시할 텍스트의 [FontWeight] 에 따라 QuackTextField 의
&nbsp;//  * 높이가 달라집니다. 이를 계산하기 위해 사용됩니다.
&nbsp;//  *
&nbsp;//  * 만약 [FontWeight] 가 [FontWeight.Bold] 라면 TextField 에서 16dp 만큼 추가 높이를 갖고,
&nbsp;//  * 그렇지 않다면 18dp 만큼 추가 높이를 갖습니다.
&nbsp;//  *
&nbsp;//  * 좀 더 많은 경우를 신경쓰기 위해선 [FontWeight.Bold] 이상인 경우도 체크하면 좋지만,
&nbsp;//  * 현재 QuackTextField 의 디자인에는 최대 [FontWeight.Bold] 만 사용하고 있기 때문에
&nbsp;//  * [FontWeight.Bold] 만 체크합니다.
&nbsp;//  *
&nbsp;//  * @receiver [FontWeight] 가 [FontWeight.Bold] 인지 검사할 [QuackTextStyle]
&nbsp;//  * @return QuackTextField 에서 표시할 텍스트의 [FontWeight] 가 [FontWeight.Bold] 인지 여부
&nbsp;//  */
&nbsp;// private val QuackTextStyle.isBold get() = weight == FontWeight.Bold
&nbsp;//
&nbsp;// /**
&nbsp;//  * QuackTextField 밑에 표시될 ErrorText 와의 간격
&nbsp;//  */
&nbsp;// private val QuackTextFieldErrorTextTopPadding = 4.dp
&nbsp;
&nbsp;/**
&nbsp; * TextField 양옆에 추가되는 Decoration 들과의 간격
&nbsp; *
&nbsp; * ```
&nbsp; * Decoration - TextField - Decoration
&nbsp; * ```
&nbsp; *
&nbsp; * 에서 `-` 사이에 들어갈 간격 입니다.
&nbsp; */
<b class="nc">&nbsp;private val QuackTextFieldDecorationContentHorizontalPadding = 8.dp</b>
&nbsp;
&nbsp;// /**
&nbsp;//  * QuackTextField 에서 표시하는 텍스트의 [FontWeight] 가
&nbsp;//  * [FontWeight.Bold] 가 아닐 때 TextField 위에 들어갈 패딩
&nbsp;//  *
&nbsp;//  * QuackTextField 의 높이를 결정짓는 중요한 요소가 됩니다.
&nbsp;//  *
&nbsp;//  * **이 API 는 직접적으로 사용하면 안됩니다.**
&nbsp;//  * 대신에 [QuackTextStyle.calcQuackTextFieldTopPadding] 를 사용하세요.
&nbsp;//  *
&nbsp;//  * @see QuackTextStyle.isBold
&nbsp;//  */
&nbsp;// @DoNotUseDirectly
&nbsp;// private val QuackTextFieldTopPaddingWithNonBold = 18.dp
&nbsp;
&nbsp;// /**
&nbsp;//  * QuackTextField 에서 표시하는 텍스트의 [FontWeight] 가
&nbsp;//  * [FontWeight.Bold] 일 때 TextField 위에 들어갈 패딩
&nbsp;//  *
&nbsp;//  * QuackTextField 의 높이를 결정짓는 중요한 요소가 됩니다.
&nbsp;//  *
&nbsp;//  * **이 API 는 직접적으로 사용하면 안됩니다.**
&nbsp;//  * 대신에 [QuackTextStyle.calcQuackTextFieldTopPadding] 를 사용하세요.
&nbsp;//  *
&nbsp;//  * @see QuackTextStyle.isBold
&nbsp;//  */
&nbsp;// @DoNotUseDirectly
&nbsp;// private val QuackTextFieldTopPaddingWithBold = 16.dp
&nbsp;
&nbsp;// OptIn(DoNotUseDirectly::class)
&nbsp;// private fun QuackTextStyle.calcQuackTextFieldTopPadding() = when (isBold) {
&nbsp;//    true -&gt; QuackTextFieldTopPaddingWithBold
&nbsp;//    else -&gt; QuackTextFieldTopPaddingWithNonBold
&nbsp;// }
&nbsp;
&nbsp;// /**
&nbsp;//  * QuackTextField 에 사용되는 TextField 의 하단에 들어갈 패딩
&nbsp;//  */
&nbsp;// private val QuackTextFieldBottomPadding = 8.dp
&nbsp;
&nbsp;// /**
&nbsp;//  * QuackTextField 에 표시될 언더바의 높이
&nbsp;//  */
&nbsp;// private val QuackTextFieldUnderBarHeight = 1.dp
&nbsp;
&nbsp;// /**
&nbsp;//  * QuackTextField 에서 사용할 아이템들의 색상을
&nbsp;//  * 계산하기 위한 유틸 함수들이 있는 클래스 입니다.
&nbsp;//  */
&nbsp;// @Immutable
&nbsp;// private object QuackTextFieldColors {
&nbsp;//     /**
&nbsp;//      * QuackTextField 에 표시될 텍스트의 색상을 계산합니다.
&nbsp;//      * placeholder 인지 여부에 따라 색상이 달라집니다.
&nbsp;//      *
&nbsp;//      * @param isPlaceholder placeholder 로 보여지고 있는지 여부
&nbsp;//      * @return QuackTextField 에 표시될 텍스트의 색상
&nbsp;//      */
&nbsp;//     @Stable
&nbsp;//     fun textColor(
&nbsp;//         isPlaceholder: Boolean,
&nbsp;//     ) = when (isPlaceholder) {
&nbsp;//         true -&gt; QuackColor.Black
&nbsp;//         else -&gt; QuackColor.Gray2
&nbsp;//     }
&nbsp;//
&nbsp;//     /**
&nbsp;//      * QuackTextField 에 표시될 후행 텍스트의 색상을 계산합니다.
&nbsp;//      * placeholder 인지 여부에 따라 색상이 달라집니다.
&nbsp;//      *
&nbsp;//      * @param isPlaceholder placeholder 로 보여지고 있는지 여부
&nbsp;//      * @return QuackTextField 에 표시될 후행 텍스트의 색상
&nbsp;//      */
&nbsp;//     @Stable
&nbsp;//     fun trailingTextColor(
&nbsp;//         isPlaceholder: Boolean = false,
&nbsp;//     ) = when (isPlaceholder) {
&nbsp;//         true -&gt; QuackColor.DuckieOrange
&nbsp;//         else -&gt; textColor(
&nbsp;//             isPlaceholder = false,
&nbsp;//         )
&nbsp;//     }
&nbsp;//
&nbsp;//     /**
&nbsp;//      * QuackTextField 의 후행으로 붙는 아이템의 색상을 정의합니다.
&nbsp;//      *
&nbsp;//      * QuackTextField 디자인에서 후행 아이템의 색상은
&nbsp;//      * placeholder 인 textColor 색상을 그대로 사용하므로
&nbsp;//      * [textColor] 를 그대로 델리게이트 합니다.
&nbsp;//      *
&nbsp;//      * QuackTextField 의 후행으로 올 수 있는 아이템은
&nbsp;//      * 아이콘 의외에 텍스트도 있으므로 Icon 이 아닌 Decorator
&nbsp;//      * 단어를 사용하였습니다.
&nbsp;//      */
&nbsp;//     val trailingDecoratorColor = textColor(
&nbsp;//         isPlaceholder = false,
&nbsp;//     )
&nbsp;//
&nbsp;//     /**
&nbsp;//      * QuackTextField 에 표시될 선행 아이콘의 색상을 계산합니다.
&nbsp;//      * placeholder 인지 여부에 따라 색상이 달라집니다.
&nbsp;//      *
&nbsp;//      * QuackTextField 디자인에서 선행 아이템의 색상은
&nbsp;//      * QuackTextField 의 텍스트 색상을 그대로 사용하므로
&nbsp;//      * [textColor] 를 그대로 델리게이트 합니다.
&nbsp;//      *
&nbsp;//      * @param isPlaceholder placeholder 로 보여지고 있는지 여부
&nbsp;//      * @return QuackTextField 에 표시될 선행 아이콘의 색상
&nbsp;//      */
&nbsp;//     @Stable
&nbsp;//     fun leadingIconColor(
&nbsp;//         isPlaceholder: Boolean,
&nbsp;//     ) = textColor(
&nbsp;//         isPlaceholder = isPlaceholder,
&nbsp;//     )
&nbsp;//
&nbsp;//     /**
&nbsp;//      * QuackTextField 에 표시될 언더바의 색상을 계산합니다.
&nbsp;//      * 현재 에러 상태인지에 따라 색상이 달라집니다.
&nbsp;//      *
&nbsp;//      * @param isError 현재 QuackTextField 가 에러 상태인지 여부
&nbsp;//      * @return QuackTextField 에 표시될 언더바의 색상
&nbsp;//      */
&nbsp;//     @Stable
&nbsp;//     fun underBarColor(
&nbsp;//         isError: Boolean,
&nbsp;//     ) = when (isError) {
&nbsp;//         true -&gt; QuackColor.OrangeRed
&nbsp;//         else -&gt; QuackColor.Gray3
&nbsp;//     }
&nbsp;//
&nbsp;//     /**
&nbsp;//      * QuackTextField 에서 사용할 커서 색상을 정의합니다.
&nbsp;//      * QuackTextField 는 커서의 색상으로 항상 [QuackColor.DuckieOrange]
&nbsp;//      * 를 사용합니다.
&nbsp;//      */
&nbsp;//     @Stable
&nbsp;//     val QuackTextFieldCursorColor = QuackColor.DuckieOrange
&nbsp;// }
&nbsp;
&nbsp;@Composable
&nbsp;@NonRestartableComposable
&nbsp;fun QuackBasicTextField(
<b class="nc">&nbsp;    modifier: Modifier = Modifier,</b>
&nbsp;    text: String,
&nbsp;    onTextChanged: (text: String) -&gt; Unit,
<b class="nc">&nbsp;    textStyle: QuackTextStyle = QuackTextStyle.Body1,</b>
<b class="nc">&nbsp;    width: QuackWidth = QuackWidth.Fill,</b>
<b class="nc">&nbsp;    height: QuackHeight = QuackHeight.Wrap,</b>
<b class="nc">&nbsp;    keyboardOptions: KeyboardOptions = KeyboardOptions(</b>
<b class="nc">&nbsp;        imeAction = ImeAction.Done,</b>
&nbsp;    ),
<b class="nc">&nbsp;    keyboardActions: KeyboardActions = KeyboardActions(),</b>
<b class="nc">&nbsp;    leadingContent: @Composable (() -&gt; Unit)? = null,</b>
<b class="nc">&nbsp;    trailingContent: @Composable (() -&gt; Unit)? = null,</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    var textFieldSize by remember {</b>
<b class="nc">&nbsp;        mutableStateOf(</b>
<b class="nc">&nbsp;            value = IntSize.Zero,</b>
&nbsp;        )
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    BasicTextField(</b>
<b class="nc">&nbsp;        modifier = modifier</b>
<b class="nc">&nbsp;            .applyQuackSize(</b>
<b class="nc">&nbsp;                width = width,</b>
<b class="nc">&nbsp;                height = height,</b>
&nbsp;            )
<b class="nc">&nbsp;            .onPlaced { layoutCoordinates -&gt;</b>
<b class="nc">&nbsp;                println(&quot;onPlaced: ${layoutCoordinates.size}&quot;)</b>
&nbsp;                // size 에서 height 가 0으로 나옴
<b class="nc">&nbsp;                textFieldSize = layoutCoordinates.size</b>
&nbsp;            },
<b class="nc">&nbsp;        value = text,</b>
<b class="nc">&nbsp;        onValueChange = onTextChanged,</b>
&nbsp;        // TextField 는 애니메이션 적용 X
<b class="nc">&nbsp;        textStyle = textStyle.asComposeStyle(),</b>
<b class="nc">&nbsp;        keyboardOptions = keyboardOptions,</b>
<b class="nc">&nbsp;        keyboardActions = keyboardActions,</b>
<b class="nc">&nbsp;        singleLine = true,</b>
&nbsp;        onTextLayout = { layoutResult -&gt;
&nbsp;            // textFieldSize = layoutResult.size
&nbsp;            // size 에서 height 가 0으로 나옴
<b class="nc">&nbsp;            println(&quot;onTextLayout: ${layoutResult.size}&quot;)</b>
&nbsp;        },
<b class="nc">&nbsp;        decorationBox = { textField -&gt;</b>
<b class="nc">&nbsp;            QuackTextFieldDecorationBox(</b>
<b class="nc">&nbsp;                textFieldSize = textFieldSize,</b>
<b class="nc">&nbsp;                textField = textField,</b>
<b class="nc">&nbsp;                leadingContent = leadingContent,</b>
<b class="nc">&nbsp;                trailingContent = trailingContent,</b>
<b class="nc">&nbsp;            )</b>
&nbsp;        },
&nbsp;    )
&nbsp;}
&nbsp;
&nbsp;private const val QuackTextFieldLayoutId = &quot;QuackTextFieldContent&quot;
&nbsp;private const val QuackTextFieldLeadingContentLayoutId = &quot;QuackTextFieldLeadingContent&quot;
&nbsp;private const val QuackTextFieldTrailingContentLayoutId = &quot;QuackTextFieldTrailingContent&quot;
&nbsp;
&nbsp;private fun Placeable.toDebugString() =
<b class="nc">&nbsp;    &quot;$width x $height / measured: $measuredWidth x $measuredHeight&quot;</b>
&nbsp;
&nbsp;@Composable
&nbsp;private fun QuackTextFieldDecorationBox(
&nbsp;    textFieldSize: IntSize,
&nbsp;    textField: @Composable () -&gt; Unit,
&nbsp;    leadingContent: @Composable (() -&gt; Unit)?,
&nbsp;    trailingContent: @Composable (() -&gt; Unit)?,
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    println(&quot;textFieldSize: $textFieldSize&quot;)</b>
<b class="nc">&nbsp;    val density = LocalDensity.current</b>
&nbsp;    // QuackTextFieldDecorationContentHorizontalPadding 는 상수 값이라
&nbsp;    // remember 에 key 필요 없음
<b class="nc">&nbsp;    val decorationItemGap = remember {</b>
<b class="nc">&nbsp;        with(</b>
&nbsp;            receiver = density,
&nbsp;        ) {
<b class="nc">&nbsp;            QuackTextFieldDecorationContentHorizontalPadding.roundToPx()</b>
&nbsp;        }
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    Layout(</b>
<b class="nc">&nbsp;        modifier = Modifier</b>
<b class="nc">&nbsp;            .size(</b>
<b class="nc">&nbsp;                width = with(</b>
&nbsp;                    receiver = density,
&nbsp;                ) {
<b class="nc">&nbsp;                    textFieldSize.width.toDp().also {</b>
<b class="nc">&nbsp;                        println(&quot;textFieldSize.width.toDp(): $it&quot;)</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                },
<b class="nc">&nbsp;                height = with(</b>
&nbsp;                    receiver = density,
&nbsp;                ) {
<b class="nc">&nbsp;                    textFieldSize.height.toDp().also {</b>
<b class="nc">&nbsp;                        println(&quot;textFieldSize.height.toDp(): $it&quot;)</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                },
&nbsp;            ),
&nbsp;        content = {
<b class="nc">&nbsp;            if (leadingContent != null) {</b>
<b class="nc">&nbsp;                Box(</b>
<b class="nc">&nbsp;                    modifier = Modifier</b>
<b class="nc">&nbsp;                        .layoutId(</b>
<b class="nc">&nbsp;                            layoutId = QuackTextFieldLeadingContentLayoutId,</b>
&nbsp;                        )
<b class="nc">&nbsp;                        .wrapContentWidth()</b>
<b class="nc">&nbsp;                        .fillMaxHeight(),</b>
<b class="nc">&nbsp;                    contentAlignment = Alignment.Center,</b>
&nbsp;                ) {
<b class="nc">&nbsp;                    leadingContent()</b>
<b class="nc">&nbsp;                }</b>
&nbsp;            }
<b class="nc">&nbsp;            Box(</b>
&nbsp;                // width 는 measure 하면서 지정
<b class="nc">&nbsp;                modifier = Modifier</b>
<b class="nc">&nbsp;                    .layoutId(</b>
<b class="nc">&nbsp;                        layoutId = QuackTextFieldLayoutId,</b>
&nbsp;                    )
<b class="nc">&nbsp;                    .fillMaxHeight(),</b>
<b class="nc">&nbsp;                contentAlignment = Alignment.CenterStart,</b>
&nbsp;            ) {
<b class="nc">&nbsp;                textField()</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            if (trailingContent != null) {</b>
<b class="nc">&nbsp;                Box(</b>
<b class="nc">&nbsp;                    modifier = Modifier</b>
<b class="nc">&nbsp;                        .layoutId(</b>
<b class="nc">&nbsp;                            layoutId = QuackTextFieldTrailingContentLayoutId,</b>
&nbsp;                        )
<b class="nc">&nbsp;                        .wrapContentWidth()</b>
<b class="nc">&nbsp;                        .fillMaxHeight(),</b>
<b class="nc">&nbsp;                    contentAlignment = Alignment.Center,</b>
&nbsp;                ) {
<b class="nc">&nbsp;                    trailingContent()</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;        },</b>
<b class="nc">&nbsp;    ) { measurables, _ -&gt;</b>
&nbsp;        // 왜 measurePolicy 의 인자로 들어오는 constraints 가 Layout 의
&nbsp;        // constraints 와 다른지 모르겠음. 그래서 직접 Layout 의 constraints
&nbsp;        // 에 맞는 Constraints 를 만들어서 사용함.
<b class="nc">&nbsp;        val constraints = Constraints.fixed(</b>
<b class="nc">&nbsp;            width = textFieldSize.width,</b>
<b class="nc">&nbsp;            height = textFieldSize.height,</b>
&nbsp;        )
<b class="nc">&nbsp;        println(&quot;constraints: $constraints&quot;)</b>
&nbsp;        // leading content
<b class="nc">&nbsp;        val leadingContentPlaceable = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldLeadingContentLayoutId</b>
<b class="nc">&nbsp;        }?.measure(</b>
<b class="nc">&nbsp;            constraints = constraints,</b>
<b class="nc">&nbsp;        )?.also {</b>
<b class="nc">&nbsp;            println(&quot;leadingContentPlaceable: ${it.toDebugString()}&quot;)</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        // trailing content
<b class="nc">&nbsp;        val trailingContentPlaceable = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldTrailingContentLayoutId</b>
<b class="nc">&nbsp;        }?.measure(</b>
<b class="nc">&nbsp;            constraints = constraints,</b>
<b class="nc">&nbsp;        )?.also {</b>
<b class="nc">&nbsp;            println(&quot;trailingContentPlaceable: ${it.toDebugString()}&quot;)</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        // TextField
<b class="nc">&nbsp;        val textFieldPlaceable = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldLayoutId</b>
<b class="nc">&nbsp;        }?.measure(</b>
<b class="nc">&nbsp;            constraints = Constraints.fixed(</b>
&nbsp;                // TextField 의 가로 길이는 기본적으로 decoration 아이템들의 가로 길이를
&nbsp;                // 포함하고 있음. 만약 decoration 아이템이 존재한다면 TextField 의
&nbsp;                // 가로 길이를 decoration 아이템의 가로 길이만큼 줄여야 함.
&nbsp;                // 따라서 TextField 의 가로 길이에서 decoration 아이템의 가로 길이와
&nbsp;                // TextField 와 decoration 아이템 사이에 들어갈 간격 만큼 제외한 값으로
&nbsp;                // TextField 의 가로 길이로 설정함.
<b class="nc">&nbsp;                width = constraints.minWidth.let { _width -&gt;</b>
<b class="nc">&nbsp;                    var width = _width</b>
<b class="nc">&nbsp;                    if (leadingContentPlaceable != null) {</b>
<b class="nc">&nbsp;                        width -= leadingContentPlaceable.width + decorationItemGap</b>
&nbsp;                    }
<b class="nc">&nbsp;                    if (trailingContentPlaceable != null) {</b>
<b class="nc">&nbsp;                        width -= trailingContentPlaceable.width + decorationItemGap</b>
&nbsp;                    }
<b class="nc">&nbsp;                    width</b>
<b class="nc">&nbsp;                }.coerceAtLeast(</b>
<b class="nc">&nbsp;                    minimumValue = 0,</b>
&nbsp;                ),
<b class="nc">&nbsp;                height = constraints.minHeight,</b>
&nbsp;            )
<b class="nc">&nbsp;        )?.also {</b>
<b class="nc">&nbsp;            println(&quot;textFieldPlaceable: ${it.toDebugString()}&quot;)</b>
<b class="nc">&nbsp;        } ?: npe(</b>
&nbsp;            lazyMessage = {
<b class="nc">&nbsp;                notFoundRequiredLayoutIdForQuackTextFieldMessage(</b>
<b class="nc">&nbsp;                    layoutId = QuackTextFieldLayoutId,</b>
&nbsp;                )
&nbsp;            },
&nbsp;        )
&nbsp;
<b class="nc">&nbsp;        layout(</b>
<b class="nc">&nbsp;            width = constraints.minWidth,</b>
<b class="nc">&nbsp;            height = constraints.minHeight,</b>
&nbsp;        ) {
<b class="nc">&nbsp;            val textFieldStartOffset = leadingContentPlaceable?.width?.plus(</b>
<b class="nc">&nbsp;                other = decorationItemGap,</b>
<b class="nc">&nbsp;            ) ?: 0</b>
&nbsp;
<b class="nc">&nbsp;            leadingContentPlaceable?.place(</b>
<b class="nc">&nbsp;                x = 0,</b>
<b class="nc">&nbsp;                y = 0,</b>
&nbsp;            )
<b class="nc">&nbsp;            textFieldPlaceable.place(</b>
<b class="nc">&nbsp;                x = textFieldStartOffset.also {</b>
<b class="nc">&nbsp;                    println(&quot;textFieldStartOffset: $it&quot;)</b>
<b class="nc">&nbsp;                },</b>
<b class="nc">&nbsp;                y = 0,</b>
&nbsp;            )
<b class="nc">&nbsp;            trailingContentPlaceable?.place(</b>
<b class="nc">&nbsp;                x = (constraints.minWidth - trailingContentPlaceable.width).also {</b>
<b class="nc">&nbsp;                    println(&quot;trailingContentPlaceable x: $it&quot;)</b>
<b class="nc">&nbsp;                },</b>
<b class="nc">&nbsp;                y = 0,</b>
&nbsp;            )
&nbsp;        }
&nbsp;    }
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Suppress(&quot;SameParameterValue&quot;)
&nbsp;private fun notFoundRequiredLayoutIdForQuackTextFieldMessage(
&nbsp;    layoutId: String,
&nbsp;) = &quot;&quot;&quot;
&nbsp;    |QuackTextField 를 구성하는데 필요한 필수 layoutId 를 가진 컴포저블을
&nbsp;    |찾을 수 없습니다. 올바른 방법으로 QuackTextField 를 사용했는지 확인해 보세요.
&nbsp;
<b class="nc">&nbsp;    |필요한 layoutId: $layoutId</b>
<b class="nc">&nbsp;    &quot;&quot;&quot;.trimMargin()</b>
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-09-04 05:54</div>
</div>
</body>
</html>
