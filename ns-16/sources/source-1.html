


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > QuackTextFieldMeasurePolicy</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">team.duckie.quackquack.ui.component.internal</a>
</div>

<h1>Coverage Summary for Class: QuackTextFieldMeasurePolicy (team.duckie.quackquack.ui.component.internal)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">QuackTextFieldMeasurePolicy</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (2/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (20/60)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    37.3%
  </span>
  <span class="absValue">
    (44/118)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    37.4%
  </span>
  <span class="absValue">
    (203/543)
  </span>
</td>
</tr>
  <tr>
    <td class="name">QuackTextFieldMeasurePolicy$Companion</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (1/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    96.2%
  </span>
  <span class="absValue">
    (25/26)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">QuackTextFieldMeasurePolicy$maxIntrinsicHeight$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">QuackTextFieldMeasurePolicy$maxIntrinsicWidth$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">QuackTextFieldMeasurePolicy$measure$1</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (14/14)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">QuackTextFieldMeasurePolicy$minIntrinsicHeight$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">QuackTextFieldMeasurePolicy$minIntrinsicWidth$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    28.6%
  </span>
  <span class="absValue">
    (4/14)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.9%
  </span>
  <span class="absValue">
    (21/62)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    39.3%
  </span>
  <span class="absValue">
    (53/135)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    40.4%
  </span>
  <span class="absValue">
    (242/599)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Designed and developed by 2022 SungbinLand, Team Duckie
&nbsp; *
&nbsp; * Licensed under the MIT.
&nbsp; * Please see full license: https://github.com/sungbinland/quack-quack/blob/main/LICENSE
&nbsp; */
&nbsp;
&nbsp;package team.duckie.quackquack.ui.component.internal
&nbsp;
&nbsp;import androidx.compose.runtime.Composable
&nbsp;import androidx.compose.runtime.getValue
&nbsp;import androidx.compose.runtime.remember
&nbsp;import androidx.compose.ui.Alignment
&nbsp;import androidx.compose.ui.Modifier
&nbsp;import androidx.compose.ui.composed
&nbsp;import androidx.compose.ui.draw.drawWithContent
&nbsp;import androidx.compose.ui.geometry.Offset
&nbsp;import androidx.compose.ui.layout.IntrinsicMeasurable
&nbsp;import androidx.compose.ui.layout.IntrinsicMeasureScope
&nbsp;import androidx.compose.ui.layout.Measurable
&nbsp;import androidx.compose.ui.layout.MeasurePolicy
&nbsp;import androidx.compose.ui.layout.MeasureResult
&nbsp;import androidx.compose.ui.layout.MeasureScope
&nbsp;import androidx.compose.ui.layout.Placeable
&nbsp;import androidx.compose.ui.layout.layoutId
&nbsp;import androidx.compose.ui.unit.Constraints
&nbsp;import androidx.compose.ui.unit.Dp
&nbsp;import androidx.compose.ui.unit.dp
&nbsp;import androidx.compose.ui.unit.offset
&nbsp;import team.duckie.quackquack.ui.color.QuackColor
&nbsp;import team.duckie.quackquack.ui.color.animateQuackColorAsState
&nbsp;import team.duckie.quackquack.ui.component.QuackBasicTextField
&nbsp;import team.duckie.quackquack.ui.component.internal.QuackTextFieldMeasurePolicy.Companion.rememberQuackTextFieldMeasurePolicy
&nbsp;import team.duckie.quackquack.ui.util.ZeroConstraints
&nbsp;import team.duckie.quackquack.ui.util.heightOrZero
&nbsp;import team.duckie.quackquack.ui.util.layoutId
&nbsp;import team.duckie.quackquack.ui.util.widthOrZero
&nbsp;
&nbsp;internal const val QuackTextFieldLayoutId = &quot;QuackTextFieldContent&quot;
&nbsp;internal const val QuackTextFieldPlaceholderLayoutId = &quot;QuackTextFieldPlaceholderContent&quot;
&nbsp;internal const val QuackTextFieldLeadingContentLayoutId = &quot;QuackTextFieldLeadingContent&quot;
&nbsp;internal const val QuackTextFieldTrailingContentLayoutId = &quot;QuackTextFieldTrailingContent&quot;
&nbsp;
&nbsp;/**
&nbsp; * [QuackBasicTextField] 를 measure 하기 위한 [MeasurePolicy]
&nbsp; *
&nbsp; * @suppress 이 클래스는 직접 사용하면 안됩니다. 리컴포지션 퍼포먼스를 위해
&nbsp; * remember 로 감싼 인스턴스를 반환하는 [rememberQuackTextFieldMeasurePolicy] 를
&nbsp; * 사용하세요.
&nbsp; */
<b class="fc">&nbsp;internal class QuackTextFieldMeasurePolicy private constructor() : MeasurePolicy {</b>
&nbsp;    companion object {
&nbsp;        /**
&nbsp;         * [QuackTextFieldMeasurePolicy] 을 [remember] 로 저장한 값을 반환합니다.
&nbsp;         * 항상 같은 인스턴스를 사용해도 되므로 [remember] 의 key 가 지정되지 않습니다.
&nbsp;         *
&nbsp;         * @return remember 된 [QuackTextFieldMeasurePolicy] 의 인스턴스
&nbsp;         */
&nbsp;        @Composable
<b class="pc">&nbsp;        fun rememberQuackTextFieldMeasurePolicy() = remember {</b>
<b class="fc">&nbsp;            QuackTextFieldMeasurePolicy()</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    override fun MeasureScope.measure(
&nbsp;        measurables: List&lt;Measurable&gt;,
&nbsp;        constraints: Constraints,
&nbsp;    ): MeasureResult {
<b class="fc">&nbsp;        var occupiedSpaceHorizontally = 0</b>
<b class="fc">&nbsp;        val looseConstraints = constraints.copy(</b>
<b class="fc">&nbsp;            minWidth = 0,</b>
<b class="fc">&nbsp;            minHeight = 0,</b>
&nbsp;        )
&nbsp;
&nbsp;        // measure leading icon
<b class="fc">&nbsp;        val leadingPlaceable = measurables.find { measurable -&gt;</b>
<b class="fc">&nbsp;            measurable.layoutId == QuackTextFieldLeadingContentLayoutId</b>
<b class="fc">&nbsp;        }?.measure(</b>
<b class="fc">&nbsp;            constraints = looseConstraints,</b>
&nbsp;        )
<b class="fc">&nbsp;        occupiedSpaceHorizontally += leadingPlaceable.widthOrZero()</b>
&nbsp;
&nbsp;        // measure trailing icon
<b class="fc">&nbsp;        val trailingPlaceable = measurables.find { measurable -&gt;</b>
<b class="fc">&nbsp;            measurable.layoutId == QuackTextFieldTrailingContentLayoutId</b>
<b class="fc">&nbsp;        }?.measure(</b>
<b class="fc">&nbsp;            constraints = looseConstraints.offset(</b>
<b class="fc">&nbsp;                horizontal = -occupiedSpaceHorizontally,</b>
&nbsp;            ),
&nbsp;        )
<b class="fc">&nbsp;        occupiedSpaceHorizontally += trailingPlaceable.widthOrZero()</b>
&nbsp;
&nbsp;        // measure text field
<b class="fc">&nbsp;        val textFieldConstraints = constraints</b>
<b class="fc">&nbsp;            .copy(</b>
<b class="fc">&nbsp;                minHeight = 0,</b>
&nbsp;            )
<b class="fc">&nbsp;            .offset(</b>
<b class="fc">&nbsp;                horizontal = -occupiedSpaceHorizontally,</b>
&nbsp;            )
<b class="fc">&nbsp;        val textFieldPlaceable = measurables.first { measurable -&gt;</b>
<b class="fc">&nbsp;            measurable.layoutId == QuackTextFieldLayoutId</b>
<b class="fc">&nbsp;        }.measure(</b>
<b class="fc">&nbsp;            constraints = textFieldConstraints,</b>
&nbsp;        )
<b class="fc">&nbsp;        val placeholderPlaceable = measurables.find { measurable -&gt;</b>
<b class="fc">&nbsp;            measurable.layoutId == QuackTextFieldPlaceholderLayoutId</b>
<b class="fc">&nbsp;        }?.measure(</b>
<b class="fc">&nbsp;            constraints = textFieldConstraints,</b>
&nbsp;        )
&nbsp;
<b class="fc">&nbsp;        val width = calculateWidth(</b>
<b class="fc">&nbsp;            textFieldWidth = textFieldPlaceable.width,</b>
<b class="fc">&nbsp;            placeholderWidth = placeholderPlaceable.widthOrZero(),</b>
<b class="fc">&nbsp;            leadingWidth = leadingPlaceable.widthOrZero(),</b>
<b class="fc">&nbsp;            trailingWidth = trailingPlaceable.widthOrZero(),</b>
<b class="fc">&nbsp;            constraints = constraints,</b>
&nbsp;        )
<b class="fc">&nbsp;        val height = calculateHeight(</b>
<b class="fc">&nbsp;            textFieldHeight = textFieldPlaceable.height,</b>
<b class="fc">&nbsp;            placeholderHeight = placeholderPlaceable.heightOrZero(),</b>
<b class="fc">&nbsp;            leadingHeight = leadingPlaceable.heightOrZero(),</b>
<b class="fc">&nbsp;            trailingHeight = trailingPlaceable.heightOrZero(),</b>
<b class="fc">&nbsp;            constraints = constraints,</b>
&nbsp;        )
&nbsp;
<b class="fc">&nbsp;        return layout(</b>
<b class="fc">&nbsp;            width = width,</b>
<b class="fc">&nbsp;            height = height,</b>
&nbsp;        ) {
<b class="fc">&nbsp;            placeTextField(</b>
<b class="fc">&nbsp;                width = width,</b>
<b class="fc">&nbsp;                height = height,</b>
<b class="fc">&nbsp;                textFieldPlaceable = textFieldPlaceable,</b>
<b class="fc">&nbsp;                placeholderPlaceable = placeholderPlaceable,</b>
<b class="fc">&nbsp;                leadingPlaceable = leadingPlaceable,</b>
<b class="fc">&nbsp;                trailingPlaceable = trailingPlaceable,</b>
&nbsp;            )
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    override fun IntrinsicMeasureScope.maxIntrinsicHeight(
&nbsp;        measurables: List&lt;IntrinsicMeasurable&gt;,
&nbsp;        width: Int,
<b class="nc">&nbsp;    ) = intrinsicHeight(</b>
<b class="nc">&nbsp;        measurables = measurables,</b>
<b class="nc">&nbsp;        width = width,</b>
&nbsp;    ) { intrinsicMeasurable, intrinsicWidth -&gt;
<b class="nc">&nbsp;        intrinsicMeasurable.maxIntrinsicHeight(</b>
<b class="nc">&nbsp;            width = intrinsicWidth,</b>
&nbsp;        )
&nbsp;    }
&nbsp;
&nbsp;    override fun IntrinsicMeasureScope.minIntrinsicHeight(
&nbsp;        measurables: List&lt;IntrinsicMeasurable&gt;,
&nbsp;        width: Int,
<b class="nc">&nbsp;    ) = intrinsicHeight(</b>
<b class="nc">&nbsp;        measurables = measurables,</b>
<b class="nc">&nbsp;        width = width,</b>
&nbsp;    ) { intrinsicMeasurable, intrinsicWidth -&gt;
<b class="nc">&nbsp;        intrinsicMeasurable.minIntrinsicHeight(</b>
<b class="nc">&nbsp;            width = intrinsicWidth,</b>
&nbsp;        )
&nbsp;    }
&nbsp;
&nbsp;    override fun IntrinsicMeasureScope.maxIntrinsicWidth(
&nbsp;        measurables: List&lt;IntrinsicMeasurable&gt;,
&nbsp;        height: Int,
<b class="nc">&nbsp;    ) = intrinsicWidth(</b>
<b class="nc">&nbsp;        measurables = measurables,</b>
<b class="nc">&nbsp;        height = height,</b>
&nbsp;    ) { intrinsicMeasurable, intrinsicHeight -&gt;
<b class="nc">&nbsp;        intrinsicMeasurable.maxIntrinsicWidth(</b>
<b class="nc">&nbsp;            height = intrinsicHeight,</b>
&nbsp;        )
&nbsp;    }
&nbsp;
&nbsp;    override fun IntrinsicMeasureScope.minIntrinsicWidth(
&nbsp;        measurables: List&lt;IntrinsicMeasurable&gt;,
&nbsp;        height: Int,
<b class="nc">&nbsp;    ) = intrinsicWidth(</b>
<b class="nc">&nbsp;        measurables = measurables,</b>
<b class="nc">&nbsp;        height = height,</b>
&nbsp;    ) { intrinsicMeasurable, intrinsicHeight -&gt;
<b class="nc">&nbsp;        intrinsicMeasurable.minIntrinsicWidth(</b>
<b class="nc">&nbsp;            height = intrinsicHeight,</b>
&nbsp;        )
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * QuackTextField 를 배치할 수 있는 intrinsic 한 width 를 계산합니다.
&nbsp;     *
&nbsp;     * @param measurables QuackTextField 의 measurable 들
&nbsp;     * @param height QuackTextField 레이아웃의 높이
&nbsp;     * @param intrinsicMeasurer QuackTextField 의 intrinsic width 를 계산하는 함수
&nbsp;     *
&nbsp;     * @return QuackTextField 를 배치하기 위한 intrinsic width
&nbsp;     */
&nbsp;    private fun intrinsicWidth(
&nbsp;        measurables: List&lt;IntrinsicMeasurable&gt;,
&nbsp;        height: Int,
&nbsp;        intrinsicMeasurer: (
&nbsp;            intrinsicMeasurable: IntrinsicMeasurable,
&nbsp;            intrinsicHeight: Int,
&nbsp;        ) -&gt; Int,
&nbsp;    ): Int {
<b class="nc">&nbsp;        val textFieldWidth = intrinsicMeasurer(</b>
<b class="nc">&nbsp;            measurables.first { measurable -&gt;</b>
<b class="nc">&nbsp;                measurable.layoutId == QuackTextFieldLayoutId</b>
&nbsp;            },
<b class="nc">&nbsp;            height,</b>
&nbsp;        )
&nbsp;
<b class="nc">&nbsp;        val placeholderWidth = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldPlaceholderLayoutId</b>
<b class="nc">&nbsp;        }?.let { measurable -&gt;</b>
<b class="nc">&nbsp;            intrinsicMeasurer(</b>
<b class="nc">&nbsp;                measurable,</b>
<b class="nc">&nbsp;                height,</b>
&nbsp;            )
<b class="nc">&nbsp;        } ?: 0</b>
&nbsp;
<b class="nc">&nbsp;        val leadingWidth = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldLeadingContentLayoutId</b>
<b class="nc">&nbsp;        }?.let { measurable -&gt;</b>
<b class="nc">&nbsp;            intrinsicMeasurer(</b>
<b class="nc">&nbsp;                measurable,</b>
<b class="nc">&nbsp;                height,</b>
&nbsp;            )
<b class="nc">&nbsp;        } ?: 0</b>
&nbsp;
<b class="nc">&nbsp;        val trailingWidth = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldTrailingContentLayoutId</b>
<b class="nc">&nbsp;        }?.let { measurable -&gt;</b>
<b class="nc">&nbsp;            intrinsicMeasurer(</b>
<b class="nc">&nbsp;                measurable,</b>
<b class="nc">&nbsp;                height,</b>
&nbsp;            )
<b class="nc">&nbsp;        } ?: 0</b>
&nbsp;
<b class="nc">&nbsp;        return calculateWidth(</b>
<b class="nc">&nbsp;            textFieldWidth = textFieldWidth,</b>
<b class="nc">&nbsp;            placeholderWidth = placeholderWidth,</b>
<b class="nc">&nbsp;            leadingWidth = leadingWidth,</b>
<b class="nc">&nbsp;            trailingWidth = trailingWidth,</b>
<b class="nc">&nbsp;            constraints = ZeroConstraints,</b>
&nbsp;        )
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * QuackTextField 를 배치할 수 있는 intrinsic 한 height 를 계산합니다.
&nbsp;     *
&nbsp;     * @param measurables QuackTextField 의 measurable 들
&nbsp;     * @param width QuackTextField 레이아웃의 넓이
&nbsp;     * @param intrinsicMeasurer QuackTextField 의 intrinsic height 를 계산하는 함수
&nbsp;     *
&nbsp;     * @return QuackTextField 를 배치하기 위한 intrinsic height
&nbsp;     */
&nbsp;    private fun intrinsicHeight(
&nbsp;        measurables: List&lt;IntrinsicMeasurable&gt;,
&nbsp;        width: Int,
&nbsp;        intrinsicMeasurer: (
&nbsp;            intrinsicMeasurable: IntrinsicMeasurable,
&nbsp;            intrinsicWidth: Int,
&nbsp;        ) -&gt; Int,
&nbsp;    ): Int {
<b class="nc">&nbsp;        val textFieldHeight = intrinsicMeasurer(</b>
<b class="nc">&nbsp;            measurables.first { measurable -&gt;</b>
<b class="nc">&nbsp;                measurable.layoutId == QuackTextFieldLayoutId</b>
&nbsp;            },
<b class="nc">&nbsp;            width,</b>
&nbsp;        )
&nbsp;
<b class="nc">&nbsp;        val placeholderHeight = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldPlaceholderLayoutId</b>
<b class="nc">&nbsp;        }?.let { measurable -&gt;</b>
<b class="nc">&nbsp;            intrinsicMeasurer(</b>
<b class="nc">&nbsp;                measurable,</b>
<b class="nc">&nbsp;                width,</b>
&nbsp;            )
<b class="nc">&nbsp;        } ?: 0</b>
&nbsp;
<b class="nc">&nbsp;        val leadingHeight = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldLeadingContentLayoutId</b>
<b class="nc">&nbsp;        }?.let { measurable -&gt;</b>
<b class="nc">&nbsp;            intrinsicMeasurer(</b>
<b class="nc">&nbsp;                measurable,</b>
<b class="nc">&nbsp;                width,</b>
&nbsp;            )
<b class="nc">&nbsp;        } ?: 0</b>
&nbsp;
<b class="nc">&nbsp;        val trailingHeight = measurables.find { measurable -&gt;</b>
<b class="nc">&nbsp;            measurable.layoutId == QuackTextFieldTrailingContentLayoutId</b>
<b class="nc">&nbsp;        }?.let { measurable -&gt;</b>
<b class="nc">&nbsp;            intrinsicMeasurer(</b>
<b class="nc">&nbsp;                measurable,</b>
<b class="nc">&nbsp;                width,</b>
&nbsp;            )
<b class="nc">&nbsp;        } ?: 0</b>
&nbsp;
<b class="nc">&nbsp;        return calculateHeight(</b>
<b class="nc">&nbsp;            textFieldHeight = textFieldHeight,</b>
<b class="nc">&nbsp;            placeholderHeight = placeholderHeight,</b>
<b class="nc">&nbsp;            leadingHeight = leadingHeight,</b>
<b class="nc">&nbsp;            trailingHeight = trailingHeight,</b>
<b class="nc">&nbsp;            constraints = ZeroConstraints,</b>
&nbsp;        )
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;/**
&nbsp; * TextField 배치에 사용되는 constraints 중에서 제일 큰 넓이를 계산합니다.
&nbsp; *
&nbsp; * @param textFieldWidth TextField 의 넓이
&nbsp; * @param placeholderWidth placeholder 의 넓이
&nbsp; * @param leadingWidth leading decoration item 의 넓이
&nbsp; * @param trailingWidth trailing decoration item 의 넓이
&nbsp; * @param constraints 배치하려는 TextField 레이아웃의 [Constraints]
&nbsp; *
&nbsp; * @return 인자로 주어진 넓이 중에서 제일 큰 넓이
&nbsp; */
&nbsp;private fun calculateWidth(
&nbsp;    textFieldWidth: Int,
&nbsp;    placeholderWidth: Int,
&nbsp;    leadingWidth: Int,
&nbsp;    trailingWidth: Int,
&nbsp;    constraints: Constraints,
&nbsp;) = maxOf(
&nbsp;    a = textFieldWidth,
&nbsp;    b = maxOf(
&nbsp;        a = placeholderWidth,
&nbsp;        b = leadingWidth,
&nbsp;        c = trailingWidth,
&nbsp;    ),
&nbsp;    c = constraints.minWidth,
&nbsp;)
&nbsp;
&nbsp;/**
&nbsp; * TextField 배치에 사용되는 constraints 중에서 제일 큰 높이를 계산합니다.
&nbsp; *
&nbsp; * @param textFieldHeight TextField 의 높이
&nbsp; * @param placeholderHeight placeholder 의 높이
&nbsp; * @param leadingHeight leading decoration item 의 높이
&nbsp; * @param trailingHeight trailing decoration item 의 높이
&nbsp; * @param constraints 배치하려는 TextField 레이아웃의 [Constraints]
&nbsp; *
&nbsp; * @return 인자로 주어진 높이 중에서 제일 큰 높이
&nbsp; */
&nbsp;private fun calculateHeight(
&nbsp;    textFieldHeight: Int,
&nbsp;    placeholderHeight: Int,
&nbsp;    leadingHeight: Int,
&nbsp;    trailingHeight: Int,
&nbsp;    constraints: Constraints,
&nbsp;) = maxOf(
&nbsp;    a = textFieldHeight,
&nbsp;    b = maxOf(
&nbsp;        a = placeholderHeight,
&nbsp;        b = leadingHeight,
&nbsp;        c = trailingHeight,
&nbsp;    ),
&nbsp;    c = constraints.minHeight,
&nbsp;)
&nbsp;
&nbsp;/**
&nbsp; * TextField 의 [Placeable] 들을 배치하기 위한 오프셋을 계산하여 배치합니다.
&nbsp; *
&nbsp; * @param width TextField 레이아웃의 넓이
&nbsp; * @param height TextField 레이아웃의 높이
&nbsp; * @param textFieldPlaceable TextField 의 [Placeable]
&nbsp; * @param placeholderPlaceable placeholder 의 [Placeable]
&nbsp; * @param leadingPlaceable leading decoration item 의 [Placeable]
&nbsp; * @param trailingPlaceable trailing decoration item 의 [Placeable]
&nbsp; */
&nbsp;private fun Placeable.PlacementScope.placeTextField(
&nbsp;    width: Int,
&nbsp;    height: Int,
&nbsp;    textFieldPlaceable: Placeable,
&nbsp;    placeholderPlaceable: Placeable?,
&nbsp;    leadingPlaceable: Placeable?,
&nbsp;    trailingPlaceable: Placeable?,
&nbsp;) {
&nbsp;    leadingPlaceable?.placeRelative(
&nbsp;        x = 0,
&nbsp;        y = Alignment.CenterVertically.align(
&nbsp;            size = leadingPlaceable.height,
&nbsp;            space = height,
&nbsp;        ),
&nbsp;    )
&nbsp;    trailingPlaceable?.placeRelative(
&nbsp;        x = width - trailingPlaceable.width,
&nbsp;        y = Alignment.CenterVertically.align(
&nbsp;            size = trailingPlaceable.height,
&nbsp;            space = height,
&nbsp;        ),
&nbsp;    )
&nbsp;
&nbsp;    textFieldPlaceable.placeRelative(
&nbsp;        x = leadingPlaceable.widthOrZero(),
&nbsp;        y = Alignment.CenterVertically.align(
&nbsp;            size = textFieldPlaceable.height,
&nbsp;            space = height,
&nbsp;        ),
&nbsp;    )
&nbsp;
&nbsp;    placeholderPlaceable?.placeRelative(
&nbsp;        x = leadingPlaceable.widthOrZero(),
&nbsp;        y = Alignment.CenterVertically.align(
&nbsp;            size = placeholderPlaceable.height,
&nbsp;            space = height,
&nbsp;        ),
&nbsp;    )
&nbsp;}
&nbsp;
&nbsp;/**
&nbsp; * QuackTextField 에 under bar 를 그리기 위해 사용됩니다.
&nbsp; *
&nbsp; * @param width under bar 의 두께
&nbsp; * @param color under bar 의 색상
&nbsp; * @param topPadding under bar 의 상단 여백
&nbsp; *
&nbsp; * @return under bar 를 그리기 위한 [drawWithContent] 가 적용된 [Modifier]
&nbsp; */
&nbsp;internal fun Modifier.drawUnderBarWithAnimation(
&nbsp;    width: Dp,
&nbsp;    color: QuackColor,
&nbsp;    topPadding: Dp = 0.dp,
&nbsp;) = composed {
&nbsp;    val animatedBrush by animateQuackColorAsState(
&nbsp;        targetValue = color,
&nbsp;    )
&nbsp;    drawWithContent {
&nbsp;        drawContent()
&nbsp;        if (width == Dp.Hairline) return@drawWithContent
&nbsp;        val strokeWidth = width.toPx()
&nbsp;        val y = size.height - strokeWidth / 2 + topPadding.toPx()
&nbsp;        drawLine(
&nbsp;            brush = animatedBrush.toBrush(),
&nbsp;            start = Offset(
&nbsp;                x = 0f,
&nbsp;                y = y,
&nbsp;            ),
&nbsp;            end = Offset(
&nbsp;                x = size.width,
&nbsp;                y = y,
&nbsp;            ),
&nbsp;            strokeWidth = strokeWidth,
&nbsp;        )
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-09-26 03:36</div>
</div>
</body>
</html>
